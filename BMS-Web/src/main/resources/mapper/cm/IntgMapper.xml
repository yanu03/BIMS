<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.tracom.cm.domain.Intg.IntgMapper">

<select id="selectIntgList" resultType="Map">
	SELECT
		INTG_FCLT_ID
		,FCLT_NM
		,FCLT_LABEL
		,MAKER
		,PRES_ID
		,MAKER_CODE
		,LOC_ID
		,OWNR_ID
		,ROOM_ID
		,FCLT_TYPE_NM
	FROM
		BMS_INTG_AIRCON_INFO
	<where>	
		<if test="TYPE == 'ALL' and CONTENT != null and CONTENT != ''">
			AND INTG_FCLT_ID LIKE CONCAT('%',#{CONTENT},'%') || FCLT_NM LIKE CONCAT('%',#{CONTENT},'%') 
		</if>
		<if test="TYPE == 'INTG_FCLT_ID'">
			AND INTG_FCLT_ID LIKE CONCAT('%',#{CONTENT},'%')
		</if>
		<if test="TYPE == 'FCLT_NM'">
			AND FCLT_NM LIKE CONCAT('%',#{CONTENT},'%') 
		</if>
	</where>			
</select>

<select id="selectIntgMstList" resultType="Map">
	SELECT
		INTG_URL
		,INTG_API_KEY
	FROM
		BMS_INTG_MST
	WHERE
		INTG_ID = 'IT00000026'
</select>


</mapper>